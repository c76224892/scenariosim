<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto Scenario Simulator</title>
  <style>
    /* General page styles */
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: black;
      color: white;
      font-family: 'Courier New', Courier, monospace;
    }
    #content {
      position: relative;
      z-index: 2;
      padding: 20px;
      text-align: center;
    }
    /* Full-screen canvas for ASCII animation */
    #matrixCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none; /* Allow interactions through canvas */
      background: black;
    }
    /* Rest of your existing styles... */
    /* (Include your styles from the previous HTML here) */
    /* Example snippet: */
    #terminal {
      width: 80%;
      max-width: 800px;
      background: rgba(0, 0, 0, 0.8);
      padding: 20px;
      border: 1px solid #333;
      box-shadow: 0 0 10px rgba(153, 69, 255, 0.5);
      margin: 20px auto;
    }
    /* ... Rest of your styles ... */
  </style>
</head>
<body>
  <canvas id="matrixCanvas"></canvas>
  <div id="content">
    <!-- Your existing content goes here -->
    <div id="terminal">
      <h2>Crypto Scenario Simulator</h2>
      <p>
        Enter your predictions about future events like USA presidencies, wars, or global economy growth.
        The simulator will process your inputs and calculate potential upsides or downsides for BTC, ETH, and SOL prices.
      </p>
      <p id="tips">
        <strong>Tips:</strong> Mention <span>global economic booms</span>, <span>peace treaties</span>, or <span>emerging blockchain technology</span> for better upside predictions!
      </p>
    </div>
    <button id="open-scenario-modal">Run Scenario Simulation</button>
    <!-- ... The rest of your HTML content (modal, scripts) ... -->
  </div>

  <script>
    // Matrix-style falling characters animation
    const canvas = document.getElementById('matrixCanvas');
    const ctx = canvas.getContext('2d');

    // Set canvas size
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const columns = canvas.width / 20; // number of columns for characters
    const drops = Array(Math.floor(columns)).fill(1); // initial y position for each column

    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()*&^%'; // characters for animation

    function drawMatrix() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = '#0F0'; // green characters
      ctx.font = '20px monospace';

      for (let i = 0; i < drops.length; i++) {
        const text = characters.charAt(Math.floor(Math.random() * characters.length));
        const x = i * 20;
        const y = drops[i] * 20;
        ctx.fillText(text, x, y);

        // Reset drop randomly after it reaches the bottom
        if (y > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(drawMatrix, 50);

    // Resize canvas on window resize
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // Rest of your JavaScript simulation code...
    const openScenarioModal = document.getElementById('open-scenario-modal');
    const closeScenarioModal = document.getElementById('close-scenario-modal');
    const scenarioModal = document.getElementById('scenario-modal');
    const scenarioForm = document.getElementById('scenario-form');
    const simulationResults = document.getElementById('simulationResults');
    const loadingSpinner = document.getElementById('loading-spinner');
    let selectedCoin = null;

    openScenarioModal.addEventListener('click', () => {
      scenarioModal.style.display = 'flex';
      simulationResults.style.display = 'none';
      loadingSpinner.style.display = 'none';
    });

    closeScenarioModal.addEventListener('click', () => {
      scenarioModal.style.display = 'none';
    });

    document.querySelectorAll('.coin-button').forEach(button => {
      button.addEventListener('click', () => {
        selectedCoin = button.getAttribute('data-coin');
        startSimulation();
      });
    });

    scenarioForm.addEventListener('submit', (e) => {
      e.preventDefault();
      selectedCoin = null;
      startSimulation();
    });

    function startSimulation() {
      loadingSpinner.style.display = 'block';
      simulationResults.style.display = 'none';

      setTimeout(() => {
        loadingSpinner.style.display = 'none';
        showResults();
      }, 2000); // Simulate processing delay
    }

    function showResults() {
      const predictionText = document.getElementById('predictionText').value.toLowerCase();
      const coins = selectedCoin ? [selectedCoin] : ['BTC', 'ETH', 'SOL'];
      let resultsHTML = '<h3>Simulation Results:</h3><ul>';

      coins.forEach(coin => {
        let changePercent = (Math.random() * 100 - 50).toFixed(2);
        let direction = changePercent >= 0 ? '↑' : '↓';
        let targetPrice = 'N/A';

        // Apply specific logic for BTC based on predictionText
        if (coin === 'BTC') {
          if (predictionText.includes('war') || predictionText.includes('conflict')) {
            targetPrice = (50000 + Math.random() * 50000).toFixed(0);
          } else if (predictionText.includes('growth') || predictionText.includes('trump') || predictionText.includes('boon') || predictionText.includes('peace')) {
            targetPrice = (500000 + Math.random() * 100000).toFixed(0);
          } else {
            targetPrice = (20000 + Math.random() * 100000).toFixed(0);
          }
        } else {
          targetPrice = (Math.random() * 5000 + 1000).toFixed(0);
        }

        resultsHTML += `<li>${coin}: ${direction} ${Math.abs(changePercent)}% | Target Price: $${targetPrice}</li>`;
      });

      resultsHTML += '</ul>';
      simulationResults.innerHTML = resultsHTML;
      simulationResults.style.display = 'block';
      simulationResults.classList.add('reveal');
    }
  </script>
  <!-- Include your remaining modal HTML here if needed -->
</body>
</html>

